

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rate limit &mdash; envoy tag-v1.9.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="RBAC" href="../../rbac/v2/rbac.proto.html" />
    <link rel="prev" title="Lua" href="../../lua/v2/lua.proto.html" /> 

  
  <script src="../../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../../index.html" class="icon icon-home"> envoy
          

          
          </a>

          
            
            
              <div class="version">
                tag-v1.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../install/install.html">Building and installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../api.html">v2 API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../clusters/clusters.html">Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../config.html">Extensions</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../../filter.html">Filters</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../network/network.html">Network filters</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../http.html">HTTP filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../thrift/thrift.html">Thrift filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../accesslog/v2/accesslog.proto.html">Common access log types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../fault/v2/fault.proto.html">Common fault injection types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../accesslog/accesslog.html">Access loggers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../rbac/rbac.html">RBAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../health_checker/health_checker.html">Health checkers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../transport_socket/transport_socket.html">Transport sockets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../resource_monitor/resource_monitor.html">Resource monitors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../admin/admin.html">Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../data/data.html">Envoy data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../service/service.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../faq/overview.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../../../api.html">v2 API reference</a> &raquo;</li>
        
          <li><a href="../../../../config.html">Extensions</a> &raquo;</li>
        
          <li><a href="../../../filter.html">Filters</a> &raquo;</li>
        
          <li><a href="../../http.html">HTTP filters</a> &raquo;</li>
        
      <li>Rate limit</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../../_sources/api-v2/config/filter/http/rate_limit/v2/rate_limit.proto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rate-limit">
<span id="envoy-api-file-envoy-config-filter-http-rate-limit-v2-rate-limit-proto"></span><h1>Rate limit<a class="headerlink" href="#rate-limit" title="Permalink to this headline">¶</a></h1>
<p>Rate limit <a class="reference internal" href="../../../../../../configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit"><span class="std std-ref">configuration overview</span></a>.</p>
<div class="section" id="config-filter-http-rate-limit-v2-ratelimit">
<span id="envoy-api-msg-config-filter-http-rate-limit-v2-ratelimit"></span><h2>config.filter.http.rate_limit.v2.RateLimit<a class="headerlink" href="#config-filter-http-rate-limit-v2-ratelimit" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master/api/envoy/config/filter/http/rate_limit/v2/rate_limit.proto#L15">[config.filter.http.rate_limit.v2.RateLimit proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;stage&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;request_type&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;failure_mode_deny&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;rate_limited_as_resource_exhausted&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;rate_limit_service&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-domain">
<dt>domain</dt>
<dd>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) The rate limit domain to use when calling the rate limit service.</dd>
</dl>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-stage">
<dt>stage</dt>
<dd><p class="first">(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) Specifies the rate limit configurations to be applied with the same
stage number. If not set, the default stage number is 0.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The filter supports a range of 0 - 10 inclusively for stage numbers.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-request-type">
<dt>request_type</dt>
<dd>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) The type of requests the filter should apply to. The supported
types are <em>internal</em>, <em>external</em> or <em>both</em>. A request is considered internal if
<a class="reference internal" href="../../../../../../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-envoy-internal"><span class="std std-ref">x-envoy-internal</span></a> is set to true. If
<a class="reference internal" href="../../../../../../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-envoy-internal"><span class="std std-ref">x-envoy-internal</span></a> is not set or false, a
request is considered external. The filter defaults to <em>both</em>, and it will apply to all request
types.</dd>
</dl>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-timeout">
<dt>timeout</dt>
<dd>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">Duration</a>) The timeout in milliseconds for the rate limit service RPC. If not
set, this defaults to 20ms.</dd>
</dl>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-failure-mode-deny">
<dt>failure_mode_deny</dt>
<dd>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) The filter’s behaviour in case the rate limiting service does
not respond back. When it is set to true, Envoy will not allow traffic in case of
communication failure between rate limiting service and the proxy.
Defaults to false.</dd>
</dl>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-rate-limited-as-resource-exhausted">
<dt>rate_limited_as_resource_exhausted</dt>
<dd>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) Specifies whether a <cite>RESOURCE_EXHAUSTED</cite> gRPC code must be returned instead
of the default <cite>UNAVAILABLE</cite> gRPC code for a rate limited gRPC call. The
HTTP code will be 200 for a gRPC response.</dd>
</dl>
<dl class="docutils" id="envoy-api-field-config-filter-http-rate-limit-v2-ratelimit-rate-limit-service">
<dt>rate_limit_service</dt>
<dd>(<a class="reference internal" href="../../../../ratelimit/v2/rls.proto.html#envoy-api-msg-config-ratelimit-v2-ratelimitserviceconfig"><span class="std std-ref">config.ratelimit.v2.RateLimitServiceConfig</span></a>) Configuration for an external rate limit service provider. If not
specified, any calls to the rate limit service will immediately return
success.</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../rbac/v2/rbac.proto.html" class="btn btn-neutral float-right" title="RBAC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../lua/v2/lua.proto.html" class="btn btn-neutral" title="Lua" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Envoy Project Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../../../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>