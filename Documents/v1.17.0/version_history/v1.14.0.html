

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.14.0 (April 8, 2020) &mdash; envoy 1.17.0-5c801b documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.13.7 (December 7, 2020)" href="v1.13.7.html" />
    <link rel="prev" title="1.14.1 (April 8, 2020)" href="v1.14.1.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.17.0-5c801b
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="current.html">1.17.0 (January 11, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.2.html">1.16.2 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.1.html">1.16.1 (November 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.0.html">1.16.0 (October 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.3.html">1.15.3 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.2.html">1.15.2 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.1.html">1.15.1 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.0.html">1.15.0 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.6.html">1.14.6 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.5.html">1.14.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.4.html">1.14.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.3.html">1.14.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.2.html">1.14.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.1.html">1.14.1 (April 8, 2020)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.14.0 (April 8, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changes">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.7.html">1.13.7 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.6.html">1.13.6 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.5.html">1.13.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.4.html">1.13.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.3.html">1.13.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.2.html">1.13.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.1.html">1.13.1 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.0.html">1.13.0 (January 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.7.html">1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.6.html">1.12.6 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.5.html">1.12.5 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.4.html">1.12.4 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.3.html">1.12.3 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.2.html">1.12.2 (December 10, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.1.html">1.12.1 (November 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.0.html">1.12.0 (October 31, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.2.html">1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.1.html">1.11.1 (August 13, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.0.html">1.11.0 (July 11, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.10.0.html">1.10.0 (Apr 5, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.1.html">1.9.1 (Apr 2, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.0.html">1.9.0 (Dec 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.8.0.html">1.8.0 (Oct 4, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.7.0.html">1.7.0 (Jun 21, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.6.0.html">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.5.0.html">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.4.0.html">1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.2.0.html">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.0.0.html">1.0.0 (September 12, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="version_history.html">Version history</a> &raquo;</li>
        
      <li>1.14.0 (April 8, 2020)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/version_history/v1.14.0.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="april-8-2020">
<h1>1.14.0 (April 8, 2020)<a class="headerlink" href="#april-8-2020" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>access log: access logger extensions use the “envoy.access_loggers” name space. A mapping
of extension names is available in the <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated</span></a> documentation.</p></li>
<li><p>access log: added support for <cite>%DOWNSTREAM_LOCAL_PORT%</cite> <a class="reference internal" href="../configuration/observability/access_log/usage.html#config-access-log-format"><span class="std std-ref">access log formatters</span></a>.</p></li>
<li><p>access log: fixed <cite>%DOWSTREAM_DIRECT_REMOTE_ADDRESS%</cite> when used with PROXY protocol listener filter.</p></li>
<li><p>access log: introduced <a class="reference internal" href="../api-v2/api/v2/listener.proto.html#envoy-api-field-listener-access-log"><span class="std std-ref">connection-level access loggers</span></a>.</p></li>
<li><p>adaptive concurrency: fixed bug that allowed concurrency limits to drop below the configured
minimum.</p></li>
<li><p>adaptive concurrency: minRTT is now triggered when the minimum concurrency is maintained for 5
consecutive sampling intervals.</p></li>
<li><p>admin: added support for displaying ip address subject alternate names in <a class="reference internal" href="../operations/admin.html#operations-admin-interface-certs"><span class="std std-ref">certs</span></a> end point.</p></li>
<li><p>admin: added <a class="reference internal" href="../operations/admin.html#post--reopen_logs" title="POST /reopen_logs"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/reopen_logs</span></code></a> endpoint to control log rotation.</p></li>
<li><p>api: froze v2 xDS API. New feature development in the API should occur in v3 xDS. While the v2 xDS API has
been deprecated since 1.13.0, it will continue to be supported by Envoy until EOY 2020. See
<a class="reference internal" href="../api/api_supported_versions.html#api-supported-versions"><span class="std std-ref">Supported API versions</span></a>.</p></li>
<li><p>aws_lambda: added <a class="reference internal" href="../configuration/http/http_filters/aws_lambda_filter.html#config-http-filters-aws-lambda"><span class="std std-ref">AWS Lambda filter</span></a> that converts HTTP requests to Lambda
invokes. This effectively makes Envoy act as an egress gateway to AWS Lambda.</p></li>
<li><p>aws_request_signing: a few fixes so that it works with S3.</p></li>
<li><p>config: added stat <a class="reference internal" href="../configuration/upstream/cluster_manager/cds.html#config-cluster-manager-cds"><span class="std std-ref">update_time</span></a>.</p></li>
<li><p>config: use type URL to select an extension whenever the config type URL (or its previous versions) uniquely identify a typed extension, see <a class="reference internal" href="../configuration/overview/extension.html#config-overview-extension-configuration"><span class="std std-ref">extension configuration</span></a>.</p></li>
<li><p>datasource: added retry policy for remote async data source.</p></li>
<li><p>dns: added support for <a class="reference internal" href="../api-v2/config/common/dynamic_forward_proxy/v2alpha/dns_cache.proto.html#envoy-api-field-config-common-dynamic-forward-proxy-v2alpha-dnscacheconfig-dns-failure-refresh-rate"><span class="std std-ref">dns_failure_refresh_rate</span></a> for the <a class="reference internal" href="../api-v2/config/common/dynamic_forward_proxy/v2alpha/dns_cache.proto.html#envoy-api-msg-config-common-dynamic-forward-proxy-v2alpha-dnscacheconfig"><span class="std std-ref">dns cache</span></a> to set the DNS refresh rate during failures.</p></li>
<li><p>dns: the STRICT_DNS cluster now only resolves to 0 hosts if DNS resolution successfully returns 0 hosts.</p></li>
<li><p>eds: added <a class="reference internal" href="../api-v3/config/endpoint/v3/endpoint_components.proto.html#envoy-v3-api-field-config-endpoint-v3-endpoint-hostname"><span class="std std-ref">hostname</span></a> field for endpoints and <a class="reference internal" href="../api-v3/config/endpoint/v3/endpoint_components.proto.html#envoy-v3-api-field-config-endpoint-v3-endpoint-healthcheckconfig-hostname"><span class="std std-ref">hostname</span></a> field for endpoint’s health check config. This enables auto host rewrite and customizing the host header during health checks for eds endpoints.</p></li>
<li><p>ext_authz: disabled the use of lowercase string matcher for headers matching in HTTP-based <cite>ext_authz</cite>.
Can be reverted temporarily by setting runtime feature <cite>envoy.reloadable_features.ext_authz_http_service_enable_case_sensitive_string_matcher</cite> to false.</p></li>
<li><p>fault: added support for controlling abort faults with <a class="reference internal" href="../configuration/http/http_filters/fault_filter.html#config-http-filters-fault-injection-http-header"><span class="std std-ref">HTTP header fault configuration</span></a> to the HTTP fault filter.</p></li>
<li><p>grpc-json: added support for building HTTP request into
<a class="reference external" href="https://github.com/googleapis/googleapis/blob/master/google/api/httpbody.proto">google.api.HttpBody</a>.</p></li>
<li><p>grpc-stats: added option to limit which messages stats are created for.</p></li>
<li><p>http: added HTTP/1.1 flood protection. Can be temporarily disabled using the runtime feature <cite>envoy.reloadable_features.http1_flood_protection</cite>.</p></li>
<li><p>http: added <a class="reference internal" href="../api-v2/api/v2/core/protocol.proto.html#envoy-api-field-core-httpprotocoloptions-headers-with-underscores-action"><span class="std std-ref">headers_with_underscores_action setting</span></a> to control how client requests with header names containing underscore characters are handled. The options are to allow such headers, reject request or drop headers. The default is to allow headers, preserving existing behavior.</p></li>
<li><p>http: added <a class="reference internal" href="../api-v2/api/v2/core/protocol.proto.html#envoy-api-field-core-httpprotocoloptions-max-stream-duration"><span class="std std-ref">max_stream_duration</span></a> to specify the duration of existing streams. See <a class="reference internal" href="../faq/configuration/timeouts.html#faq-configuration-timeouts"><span class="std std-ref">connection and stream timeouts</span></a>.</p></li>
<li><p>http: connection header sanitizing has been modified to always sanitize if there is no upgrade, including when an h2c upgrade attempt has been removed.</p></li>
<li><p>http: fixed a bug that could send extra METADATA frames and underflow memory when encoding METADATA frames on a connection that was dispatching data.</p></li>
<li><p>http: fixing a bug in HTTP/1.0 responses where Connection: keep-alive was not appended for connections which were kept alive.</p></li>
<li><p>http: http filter extensions use the “envoy.filters.http” name space. A mapping
of extension names is available in the <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated</span></a> documentation.</p></li>
<li><p>http: the runtime feature <cite>http.connection_manager.log_flood_exception</cite> is removed and replaced with a connection access log response code.</p></li>
<li><p>http: upgrade parser library, which removes support for “identity” transfer-encoding value.</p></li>
<li><p>listener filters: listener filter extensions use the “envoy.filters.listener” name space. A
mapping of extension names is available in the <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated</span></a> documentation.</p></li>
<li><p>listeners: added <a class="reference internal" href="../api-v2/api/v2/listener/listener_components.proto.html#envoy-api-field-listener-listenerfilter-filter-disabled"><span class="std std-ref">listener filter matcher api</span></a> to disable individual listener filter on matching downstream connections.</p></li>
<li><p>loadbalancing: added support for using hostname for consistent hash loadbalancing via <a class="reference internal" href="../api-v2/api/v2/cluster.proto.html#envoy-api-field-cluster-commonlbconfig-consistent-hashing-lb-config"><span class="std std-ref">consistent_hash_lb_config</span></a>.</p></li>
<li><p>loadbalancing: added support for <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-retrypolicy-retry-host-predicate"><span class="std std-ref">retry host predicates</span></a> in conjunction with consistent hashing load balancers (ring hash and maglev).</p></li>
<li><p>lua: added a parameter to <cite>httpCall</cite> that makes it possible to have the call be asynchronous.</p></li>
<li><p>lua: added moonjit support.</p></li>
<li><p>mongo: the stat emitted for queries without a max time set in the <a class="reference internal" href="../configuration/listeners/network_filters/mongo_proxy_filter.html#config-network-filters-mongo-proxy"><span class="std std-ref">MongoDB filter</span></a> was modified to emit correctly for Mongo v3.2+.</p></li>
<li><p>network filters: added a <a class="reference internal" href="../configuration/listeners/network_filters/direct_response_filter.html#config-network-filters-direct-response"><span class="std std-ref">direct response filter</span></a>.</p></li>
<li><p>network filters: network filter extensions use the “envoy.filters.network” name space. A mapping
of extension names is available in the <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated</span></a> documentation.</p></li>
<li><p>rbac: added <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-remote-ip"><span class="std std-ref">remote_ip</span></a> and <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a> for matching downstream remote IP address.</p></li>
<li><p>rbac: deprecated <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-source-ip"><span class="std std-ref">source_ip</span></a> with <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a> and <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>.</p></li>
<li><p>request_id_extension: added an ability to extend request ID handling at <a class="reference internal" href="../api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-request-id-extension"><span class="std std-ref">HTTP connection manager</span></a>.</p></li>
<li><p>retry: added a retry predicate that <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-retrypolicy-retry-host-predicate"><span class="std std-ref">rejects hosts based on metadata.</span></a>.</p></li>
<li><p>router: added ability to set attempt count in downstream response, see <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-virtualhost-include-attempt-count-in-response"><span class="std std-ref">virtual host’s include response
attempt count config</span></a>.</p></li>
<li><p>router: added additional stats for <a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-vcluster-stats"><span class="std std-ref">virtual clusters</span></a>.</p></li>
<li><p>router: added <a class="reference internal" href="../api-v2/api/v2/core/protocol.proto.html#envoy-api-field-core-upstreamhttpprotocoloptions-auto-san-validation"><span class="std std-ref">auto_san_validation</span></a> to support overrriding SAN validation to transport socket for new upstream connections based on the downstream HTTP host/authority header.</p></li>
<li><p>router: added the ability to match a route based on whether a downstream TLS connection certificate has been
<a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-routematch-tlscontextmatchoptions-validated"><span class="std std-ref">validated</span></a>.</p></li>
<li><p>router: added support for <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-routeaction-regex-rewrite"><span class="std std-ref">regex_rewrite</span></a> for path rewriting using regular expressions and capture groups.</p></li>
<li><p>router: added support for <cite>%DOWNSTREAM_LOCAL_PORT%</cite> <a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">header formatter</span></a>.</p></li>
<li><p>router: don’t ignore <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-retrypolicy-per-try-timeout"><span class="std std-ref">per_try_timeout</span></a> when the <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-routeaction-timeout"><span class="std std-ref">global route timeout</span></a> is disabled.</p></li>
<li><p>router: strip whitespace for <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-retrypolicy-retry-on"><span class="std std-ref">retry_on</span></a>, <a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-grpc-on"><span class="std std-ref">grpc-retry-on header</span></a> and <a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-on"><span class="std std-ref">retry-on header</span></a>.</p></li>
<li><p>runtime: enabling the runtime feature <cite>envoy.deprecated_features.allow_deprecated_extension_names</cite>
disables the use of deprecated extension names.</p></li>
<li><p>runtime: integer values may now be parsed as booleans.</p></li>
<li><p>sds: added <a class="reference internal" href="../api-v2/api/v2/auth/secret.proto.html#envoy-api-msg-auth-genericsecret"><span class="std std-ref">GenericSecret</span></a> to support secret of generic type.</p></li>
<li><p>sds: added <a class="reference internal" href="../configuration/security/secret.html#xds-certificate-rotation"><span class="std std-ref">certificate rotation</span></a> support for certificates in static resources.</p></li>
<li><p>server: the SIGUSR1 access log reopen warning now is logged at info level.</p></li>
<li><p>stat sinks: stat sink extensions use the “envoy.stat_sinks” name space. A mapping of extension
names is available in the <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated</span></a> documentation.</p></li>
<li><p>thrift_proxy: added router filter stats to docs.</p></li>
<li><p>tls: added configuration to disable stateless TLS session resumption <a class="reference internal" href="../api-v2/api/v2/auth/tls.proto.html#envoy-api-field-auth-downstreamtlscontext-disable-stateless-session-resumption"><span class="std std-ref">disable_stateless_session_resumption</span></a>.</p></li>
<li><p>tracing: added gRPC service configuration to the OpenCensus Stackdriver and OpenCensus Agent tracers.</p></li>
<li><p>tracing: tracer extensions use the “envoy.tracers” name space. A mapping of extension names is
available in the <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated</span></a> documentation.</p></li>
<li><p>upstream: added <code class="docutils literal notranslate"><span class="pre">upstream_rq_retry_limit_exceeded</span></code> to <a class="reference internal" href="../configuration/upstream/cluster_manager/cluster_stats.html#config-cluster-manager-cluster-stats"><span class="std std-ref">cluster</span></a>, and <a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-vcluster-stats"><span class="std std-ref">virtual cluster</span></a> stats.</p></li>
<li><p>upstream: changed load distribution algorithm when all priorities enter <a class="reference internal" href="../intro/arch_overview/upstream/load_balancing/panic_threshold.html#arch-overview-load-balancing-panic-threshold"><span class="std std-ref">panic mode</span></a>.</p></li>
<li><p>upstream: combined HTTP/1 and HTTP/2 connection pool code. This means that circuit breaker
limits for both requests and connections apply to both pool types. Also, HTTP/2 now has
the option to limit concurrent requests on a connection, and allow multiple draining
connections. The old behavior is deprecated, but can be used during the deprecation
period by disabling runtime feature <cite>envoy.reloadable_features.new_http1_connection_pool_behavior</cite> or
<cite>envoy.reloadable_features.new_http2_connection_pool_behavior</cite> and then re-configure your clusters or
restart Envoy. The behavior will not switch until the connection pools are recreated. The new
circuit breaker behavior is described <a class="reference internal" href="../intro/arch_overview/upstream/circuit_breaking.html#arch-overview-circuit-break"><span class="std std-ref">here</span></a>.</p></li>
<li><p>zlib: by default zlib is initialized to use its default strategy (Z_DEFAULT_STRATEGY)
instead of the fixed one (Z_FIXED). The difference is that the use of dynamic
Huffman codes is enabled now resulting in better compression ratio for normal data.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The previous behavior for upstream connection pool circuit breaking described
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.13.0/intro/arch_overview/upstream/circuit_breaking">here</a> has
been deprecated in favor of the new behavior described <a class="reference internal" href="../intro/arch_overview/upstream/circuit_breaking.html#arch-overview-circuit-break"><span class="std std-ref">here</span></a>.</p></li>
<li><p>Access Logger, Listener Filter, HTTP Filter, Network Filter, Stats Sink, and Tracer names have
been deprecated in favor of the extension name from the envoy build system. Disable the runtime
feature “envoy.deprecated_features.allow_deprecated_extension_names” to disallow the deprecated
names. Use of these extension names generates a log message and increments the
“deprecated_feature_use” metric in stats.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Canonical Names</p></th>
<th class="head"><p>Deprecated Names</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>envoy.access_loggers.file</p></td>
<td><p>envoy.file_access_log</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.access_loggers.http_grpc</p></td>
<td><p>envoy.http_grpc_access_log</p></td>
</tr>
<tr class="row-even"><td><p>envoy.access_loggers.tcp_grpc</p></td>
<td><p>envoy.tcp_grpc_access_log</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.buffer</p></td>
<td><p>envoy.buffer</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.cors</p></td>
<td><p>envoy.cors</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.csrf</p></td>
<td><p>envoy.csrf</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.dynamo</p></td>
<td><p>envoy.http_dynamo_filter</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.ext_authz</p></td>
<td><p>envoy.ext_authz</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.fault</p></td>
<td><p>envoy.fault</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.grpc_http1_bridge</p></td>
<td><p>envoy.grpc_http1_bridge</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.grpc_json_transcoder</p></td>
<td><p>envoy.grpc_json_transcoder</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.grpc_web</p></td>
<td><p>envoy.grpc_web</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.gzip</p></td>
<td><p>envoy.gzip</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.health_check</p></td>
<td><p>envoy.health_check</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.ip_tagging</p></td>
<td><p>envoy.ip_tagging</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.lua</p></td>
<td><p>envoy.lua</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.ratelimit</p></td>
<td><p>envoy.rate_limit</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.http.router</p></td>
<td><p>envoy.router</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.http.squash</p></td>
<td><p>envoy.squash</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.listener.http_inspector</p></td>
<td><p>envoy.listener.http_inspector</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.listener.original_dst</p></td>
<td><p>envoy.listener.original_dst</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.listener.original_src</p></td>
<td><p>envoy.listener.original_src</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.listener.proxy_protocol</p></td>
<td><p>envoy.listener.proxy_protocol</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.listener.tls_inspector</p></td>
<td><p>envoy.listener.tls_inspector</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.network.client_ssl_auth</p></td>
<td><p>envoy.client_ssl_auth</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.network.echo</p></td>
<td><p>envoy.echo</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.network.ext_authz</p></td>
<td><p>envoy.ext_authz</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.network.http_connection_manager</p></td>
<td><p>envoy.http_connection_manager</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.network.mongo_proxy</p></td>
<td><p>envoy.mongo_proxy</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.network.ratelimit</p></td>
<td><p>envoy.ratelimit</p></td>
</tr>
<tr class="row-even"><td><p>envoy.filters.network.redis_proxy</p></td>
<td><p>envoy.redis_proxy</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.filters.network.tcp_proxy</p></td>
<td><p>envoy.tcp_proxy</p></td>
</tr>
<tr class="row-even"><td><p>envoy.stat_sinks.dog_statsd</p></td>
<td><p>envoy.dog_statsd</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.stat_sinks.metrics_service</p></td>
<td><p>envoy.metrics_service</p></td>
</tr>
<tr class="row-even"><td><p>envoy.stat_sinks.statsd</p></td>
<td><p>envoy.statsd</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.tracers.dynamic_ot</p></td>
<td><p>envoy.dynamic.ot</p></td>
</tr>
<tr class="row-even"><td><p>envoy.tracers.lightstep</p></td>
<td><p>envoy.lightstep</p></td>
</tr>
<tr class="row-odd"><td><p>envoy.tracers.zipkin</p></td>
<td><p>envoy.zipkin</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some renamed filters produce metadata using their filter name as the metadata namespace:</p>
<ul class="simple">
<li><p>Mongo Proxy Filter</p></li>
<li><p>Zookeeper Filter</p></li>
</ul>
<p>The metadata generated by these filters may be consumed by the following extensions, whose
configurations may need to be adjusted to use the new names.</p>
<ul class="simple">
<li><p>Access Loggers</p></li>
<li><p>HTTP and Network Ext Authz filters</p></li>
<li><p>HTTP and Network RBAC filters</p></li>
<li><p>Tracers</p></li>
</ul>
</div>
</li>
<li><p>The previous behavior of auto ignoring case in headers matching:
<a class="reference internal" href="../api-v2/config/filter/http/ext_authz/v2/ext_authz.proto.html#envoy-api-field-config-filter-http-ext-authz-v2-authorizationrequest-allowed-headers"><span class="std std-ref">allowed_headers</span></a>,
<a class="reference internal" href="../api-v2/config/filter/http/ext_authz/v2/ext_authz.proto.html#envoy-api-field-config-filter-http-ext-authz-v2-authorizationresponse-allowed-upstream-headers"><span class="std std-ref">allowed_upstream_headers</span></a>,
and <a class="reference internal" href="../api-v2/config/filter/http/ext_authz/v2/ext_authz.proto.html#envoy-api-field-config-filter-http-ext-authz-v2-authorizationresponse-allowed-client-headers"><span class="std std-ref">allowed_client_headers</span></a>
of HTTP-based <cite>ext_authz</cite> has been deprecated in favor of explicitly setting the
<a class="reference internal" href="../api-v2/type/matcher/string.proto.html#envoy-api-field-type-matcher-stringmatcher-ignore-case"><span class="std std-ref">ignore_case</span></a> field.</p></li>
<li><p>The <cite>header_fields</cite>, <cite>custom_header_fields</cite>, and <cite>additional_headers</cite> fields for the route checker
tool have been deprecated in favor of <cite>request_header_fields</cite>, <cite>response_header_fields</cite>,
<cite>additional_request_headers</cite>, and <cite>additional_response_headers</cite>.</p></li>
<li><p>The <cite>content_length</cite>, <cite>content_type</cite>, <cite>disable_on_etag_header</cite> and <cite>remove_accept_encoding_header</cite>
fields in <a class="reference internal" href="../api-v2/config/filter/http/gzip/v2/gzip.proto.html#envoy-api-msg-config-filter-http-gzip-v2-gzip"><span class="std std-ref">HTTP Gzip filter config</span></a> have
been deprecated in favor of <cite>compressor</cite>.</p></li>
<li><p>The statistics counter <cite>header_gzip</cite> in <a class="reference internal" href="../configuration/http/http_filters/gzip_filter.html#config-http-filters-gzip"><span class="std std-ref">HTTP Gzip filter</span></a>
has been deprecated in favor of <cite>header_compressor_used</cite>.</p></li>
<li><p>Support for the undocumented HTTP/1.1 <cite>:no-chunks</cite> pseudo-header has been removed. If an extension
was using this it can achieve the same behavior via the new <cite>http1StreamEncoderOptions()</cite> API.</p></li>
<li><p>The grpc_stats filter behavior of by default creating a new stat for every message type seen is deprecated.
The default will switch to only creating a fixed set of stats. The previous behavior can be enabled by enabling
<a class="reference internal" href="../api-v2/config/filter/http/grpc_stats/v2alpha/config.proto.html#envoy-api-field-config-filter-http-grpc-stats-v2alpha-filterconfig-stats-for-all-methods"><span class="std std-ref">stats_for_all_methods</span></a>,
and the previous default can be enabled until the end of the deprecation period by enabling runtime feature
<cite>envoy.deprecated_features.grpc_stats_filter_enable_stats_for_all_methods_by_default</cite>.</p></li>
<li><p>The <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-source-ip"><span class="std std-ref">source_ip</span></a> field in
<a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master/api/envoy/config/rbac/v2/rbac.proto">RBAC</a> has been deprecated
in favor of <a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a> and
<a class="reference internal" href="../api-v2/config/rbac/v2/rbac.proto.html#envoy-api-field-config-rbac-v2-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.13.7.html" class="btn btn-neutral float-right" title="1.13.7 (December 7, 2020)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="v1.14.1.html" class="btn btn-neutral float-left" title="1.14.1 (April 8, 2020)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2021, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>