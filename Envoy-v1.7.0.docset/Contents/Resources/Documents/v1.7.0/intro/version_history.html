

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Version history &mdash; envoy tag-v1.7.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting Started" href="../start/start.html" />
    <link rel="prev" title="Getting help" href="getting_help.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> envoy
          

          
          </a>

          
            
            
              <div class="version">
                tag-v1.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="intro.html">Introduction</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what_is_envoy.html">What is Envoy</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch_overview/arch_overview.html">Architecture overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="deployment_types/deployment_types.html">Deployment types</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html">Comparison to similar systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_help.html">Getting help</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Version history</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">1.7.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#march-20-2018">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#december-4-2017">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#august-24-2017">1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#may-17-2017">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#march-7-2017">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#november-30-2016">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#september-12-2016">1.0.0 (September 12, 2016)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Building and installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-v1/api.html">v1 API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-v2/api.html">v2 API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="intro.html">Introduction</a> &raquo;</li>
        
      <li>Version history</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/intro/version_history.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="version-history">
<h1>Version history<a class="headerlink" href="#version-history" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>1.7.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>access log: added ability to log response trailers.</li>
<li>access log: added ability to format START_TIME.</li>
<li>access log: added DYNAMIC_METADATA <a class="reference internal" href="../configuration/access_log.html#config-access-log-format"><span class="std std-ref">access log formatter</span></a>.</li>
<li>access log: added <a class="reference internal" href="../api-v2/config/filter/accesslog/v2/accesslog.proto.html#envoy-api-msg-config-filter-accesslog-v2-headerfilter"><span class="std std-ref">HeaderFilter</span></a>
to filter logs based on request headers.</li>
<li>access log: added <cite>%([1-9])?f</cite> as one of START_TIME specifiers to render subseconds.</li>
<li>access log: gRPC Access Log Service (ALS) support added for <a class="reference internal" href="../api-v2/config/accesslog/v2/als.proto.html#envoy-api-msg-config-accesslog-v2-httpgrpcaccesslogconfig"><span class="std std-ref">HTTP access logs</span></a>.</li>
<li>access log: improved WebSocket logging.</li>
<li>admin: added <a class="reference internal" href="../operations/admin.html#get--config_dump" title="GET /config_dump"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/config_dump</span></code></a> for dumping the current configuration and associated xDS
version information (if applicable).</li>
<li>admin: added <a class="reference internal" href="../operations/admin.html#get--stats-prometheus" title="GET /stats/prometheus"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/stats/prometheus</span></code></a> as an alternative endpoint for getting stats in prometheus format.</li>
<li>admin: added <a class="reference internal" href="../operations/admin.html#operations-admin-interface-runtime-modify"><span class="std std-ref">/runtime_modify endpoint</span></a> to add or change runtime values.</li>
<li>admin: mutations must be sent as POSTs, rather than GETs. Mutations include:
<a class="reference internal" href="../operations/admin.html#post--cpuprofiler" title="POST /cpuprofiler"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/cpuprofiler</span></code></a>, <a class="reference internal" href="../operations/admin.html#post--healthcheck-fail" title="POST /healthcheck/fail"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/healthcheck/fail</span></code></a>, <a class="reference internal" href="../operations/admin.html#post--healthcheck-ok" title="POST /healthcheck/ok"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/healthcheck/ok</span></code></a>,
<a class="reference internal" href="../operations/admin.html#post--logging" title="POST /logging"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/logging</span></code></a>, <a class="reference internal" href="../operations/admin.html#post--quitquitquit" title="POST /quitquitquit"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/quitquitquit</span></code></a>, <a class="reference internal" href="../operations/admin.html#post--reset_counters" title="POST /reset_counters"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/reset_counters</span></code></a>,
<a class="reference internal" href="../operations/admin.html#post--runtime_modify?key1=value1&amp;key2=value2&amp;keyN=valueN" title="POST /runtime_modify?key1=value1&amp;key2=value2&amp;keyN=valueN"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/runtime_modify?key1=value1&amp;key2=value2&amp;keyN=valueN</span></code></a>.</li>
<li>admin: removed <cite>/routes</cite> endpoint; route configs can now be found at the <a class="reference internal" href="../operations/admin.html#operations-admin-interface-config-dump"><span class="std std-ref">/config_dump endpoint</span></a>.</li>
<li>buffer filter: the buffer filter can be optionally
<a class="reference internal" href="../api-v2/config/filter/http/buffer/v2/buffer.proto.html#envoy-api-field-config-filter-http-buffer-v2-bufferperroute-disabled"><span class="std std-ref">disabled</span></a> or
<a class="reference internal" href="../api-v2/config/filter/http/buffer/v2/buffer.proto.html#envoy-api-field-config-filter-http-buffer-v2-bufferperroute-buffer"><span class="std std-ref">overridden</span></a> with
route-local configuration.</li>
<li>cli: added –config-yaml flag to the Envoy binary. When set its value is interpreted as a yaml
representation of the bootstrap config and overrides –config-path.</li>
<li>cluster: added <a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-close-connections-on-host-health-failure"><span class="std std-ref">option</span></a>
to close tcp_proxy upstream connections when health checks fail.</li>
<li>cluster: added <a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-drain-connections-on-host-removal"><span class="std std-ref">option</span></a> to drain
connections from hosts after they are removed from service discovery, regardless of health status.</li>
<li>cluster: fixed bug preventing the deletion of all endpoints in a priority.</li>
<li>debug: added symbolized stack traces (where supported).</li>
<li>grpc: support added for the full set of <a class="reference internal" href="../api-v2/api/v2/core/grpc_service.proto.html#envoy-api-msg-core-grpcservice-googlegrpc-callcredentials"><span class="std std-ref">Google gRPC call credentials</span></a>.</li>
<li>gzip filter: added <a class="reference internal" href="../configuration/http_filters/gzip_filter.html#gzip-statistics"><span class="std std-ref">stats</span></a> to the filter.</li>
<li>gzip filter: sending <em>accept-encoding</em> header as <em>identity</em> no longer compresses the payload.</li>
<li>health check: added ability to set <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-httphealthcheck-request-headers-to-add"><span class="std std-ref">additional HTTP headers</span></a> for HTTP health check.</li>
<li>health check: added support for EDS delivered <a class="reference internal" href="../api-v2/api/v2/endpoint/endpoint.proto.html#envoy-api-field-endpoint-lbendpoint-health-status"><span class="std std-ref">endpoint health status</span></a>.</li>
<li>health check: added interval overrides for health state transitions from <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-unhealthy-edge-interval"><span class="std std-ref">healthy to unhealthy</span></a>, <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-healthy-edge-interval"><span class="std std-ref">unhealthy to healthy</span></a> and for subsequent checks on
<a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-unhealthy-interval"><span class="std std-ref">unhealthy hosts</span></a>.</li>
<li>health check: added support for <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-custom-health-check"><span class="std std-ref">custom health check</span></a>.</li>
<li>health check: health check connections can now be configured to use http/2.</li>
<li>health check http filter: added
<a class="reference internal" href="../api-v2/config/filter/http/health_check/v2/health_check.proto.html#envoy-api-field-config-filter-http-health-check-v2-healthcheck-headers"><span class="std std-ref">generic header matching</span></a>
to trigger health check response. Deprecated the
<a class="reference internal" href="../api-v2/config/filter/http/health_check/v2/health_check.proto.html#envoy-api-field-config-filter-http-health-check-v2-healthcheck-endpoint"><span class="std std-ref">endpoint option</span></a>.</li>
<li>http: filters can now optionally support
<a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-virtualhost-per-filter-config"><span class="std std-ref">virtual host</span></a>,
<a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-route-per-filter-config"><span class="std std-ref">route</span></a>, and
<a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-weightedcluster-clusterweight-per-filter-config"><span class="std std-ref">weighted cluster</span></a>
local configuration.</li>
<li>http: added the ability to pass DNS type Subject Alternative Names of the client certificate in the
<a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert"><span class="std std-ref">x-forwarded-client-cert</span></a> header.</li>
<li>http: local responses to gRPC requests are now sent as trailers-only gRPC responses instead of plain HTTP responses.
Notably the HTTP response code is always “200” in this case, and the gRPC error code is carried in “grpc-status”
header, optionally accompanied with a text message in “grpc-message” header.</li>
<li>http: added support for <a class="reference internal" href="../api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-via"><span class="std std-ref">via header</span></a>
append.</li>
<li>http: added a <a class="reference internal" href="../api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-skip-xff-append"><span class="std std-ref">configuration option</span></a>
to elide <em>x-forwarded-for</em> header modifications.</li>
<li>http: fixed a bug in inline headers where addCopy and addViaMove didn’t add header values when
encountering inline headers with multiple instances.</li>
<li>listeners: added <a class="reference internal" href="../api-v2/api/v2/lds.proto.html#envoy-api-field-listener-tcp-fast-open-queue-length"><span class="std std-ref">tcp_fast_open_queue_length</span></a> option.</li>
<li>listeners: added the ability to match <a class="reference internal" href="../api-v2/api/v2/listener/listener.proto.html#envoy-api-msg-listener-filterchain"><span class="std std-ref">FilterChain</span></a> using
<a class="reference internal" href="../api-v2/api/v2/listener/listener.proto.html#envoy-api-field-listener-filterchainmatch-application-protocols"><span class="std std-ref">application_protocols</span></a>
(e.g. ALPN for TLS protocol).</li>
<li>listeners: <a class="reference internal" href="../api-v2/api/v2/listener/listener.proto.html#envoy-api-field-listener-filterchainmatch-sni-domains"><span class="std std-ref">sni_domains</span></a> has been deprecated/renamed to
<a class="reference internal" href="../api-v2/api/v2/listener/listener.proto.html#envoy-api-field-listener-filterchainmatch-server-names"><span class="std std-ref">server_names</span></a>.</li>
<li>listeners: removed restriction on all filter chains having identical filters.</li>
<li>load balancer: added <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-types-round-robin"><span class="std std-ref">weighted round robin</span></a> support. The round robin
scheduler now respects endpoint weights and also has improved fidelity across
picks.</li>
<li>load balancer: <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancer-subsets"><span class="std std-ref">locality weighted load balancing</span></a> is now supported.</li>
<li>load balancer: ability to configure zone aware load balancer settings <a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-commonlbconfig-zone-aware-lb-config"><span class="std std-ref">through the API</span></a>.</li>
<li>load balancer: the <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-types-least-request"><span class="std std-ref">weighted least request</span></a> load balancing algorithm has been improved
to have better balance when operating in weighted mode.</li>
<li>logger: added the ability to optionally set the log format via the <a class="reference internal" href="../operations/cli.html#cmdoption-log-format"><code class="xref std std-option docutils literal notranslate"><span class="pre">--log-format</span></code></a> option.</li>
<li>logger: all <a class="reference internal" href="../operations/admin.html#operations-admin-interface-logging"><span class="std std-ref">logging levels</span></a> can be configured
at run-time: trace debug info warning error critical.</li>
<li>rbac http filter: a <a class="reference internal" href="../configuration/http_filters/rbac_filter.html#config-http-filters-rbac"><span class="std std-ref">role-based access control http filter</span></a> has been added.</li>
<li>router: the behavior of per-try timeouts have changed in the case where a portion of the response has
already been proxied downstream when the timeout occurs. Previously, the response would be reset
leading to either an HTTP/2 reset or an HTTP/1 closed connection and a partial response. Now, the
timeout will be ignored and the response will continue to proxy up to the global request timeout.</li>
<li>router: changed the behavior of <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routeaction-hashpolicy-connectionproperties-source-ip"><span class="std std-ref">source IP routing</span></a>
to ignore the source port.</li>
<li>router: added an <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-headermatcher-prefix-match"><span class="std std-ref">prefix_match</span></a> match type
to explicitly match based on the prefix of a header value.</li>
<li>router: added an <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-headermatcher-suffix-match"><span class="std std-ref">suffix_match</span></a> match type
to explicitly match based on the suffix of a header value.</li>
<li>router: added an <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-headermatcher-present-match"><span class="std std-ref">present_match</span></a> match type
to explicitly match based on a header’s presence.</li>
<li>router: added an <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-headermatcher-invert-match"><span class="std std-ref">invert_match</span></a> config option
which supports inverting all other match types to match based on headers which are not a desired value.</li>
<li>router: allow <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-msg-route-routeaction-hashpolicy-cookie"><span class="std std-ref">cookie routing</span></a> to
generate session cookies.</li>
<li>router: added START_TIME as one of supported variables in <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">header
formatters</span></a>.</li>
<li>router: added a <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routeaction-max-grpc-timeout"><span class="std std-ref">max_grpc_timeout</span></a>
config option to specify the maximum allowable value for timeouts decoded from gRPC header field
<cite>grpc-timeout</cite>.</li>
<li>router: added a <a class="reference internal" href="../api-v2/config/filter/http/router/v2/router.proto.html#envoy-api-field-config-filter-http-router-v2-router-suppress-envoy-headers"><span class="std std-ref">configuration option</span></a> to disable <em>x-envoy-</em>
header generation.</li>
<li>router: added ‘unavailable’ to the retriable gRPC status codes that can be specified
through <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-grpc-on"><span class="std std-ref">x-envoy-retry-grpc-on</span></a>.</li>
<li>sockets: added <a class="reference internal" href="../operations/traffic_capture.html#operations-traffic-capture"><span class="std std-ref">capture transport socket extension</span></a> to support
recording plain text traffic and PCAP generation.</li>
<li>sockets: added <cite>IP_FREEBIND</cite> socket option support for <a class="reference internal" href="../api-v2/api/v2/lds.proto.html#envoy-api-field-listener-freebind"><span class="std std-ref">listeners</span></a> and upstream connections via
<a class="reference internal" href="../api-v2/config/bootstrap/v2/bootstrap.proto.html#envoy-api-field-config-bootstrap-v2-clustermanager-upstream-bind-config"><span class="std std-ref">cluster manager wide</span></a> and
<a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-upstream-bind-config"><span class="std std-ref">cluster specific</span></a> options.</li>
<li>sockets: added <cite>IP_TRANSPARENT</cite> socket option support for <a class="reference internal" href="../api-v2/api/v2/lds.proto.html#envoy-api-field-listener-transparent"><span class="std std-ref">listeners</span></a>.</li>
<li>sockets: added <cite>SO_KEEPALIVE</cite> socket option for upstream connections
<a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-upstream-connection-options"><span class="std std-ref">per cluster</span></a>.</li>
<li>stats: added support for histograms.</li>
<li>stats: added <a class="reference internal" href="../api-v2/config/metrics/v2/stats.proto.html#envoy-api-field-config-metrics-v2-statsdsink-prefix"><span class="std std-ref">option to configure the statsd prefix</span></a>.</li>
<li>stats: updated stats sink interface to flush through a single call.</li>
<li>tls: added support for
<a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-certificatevalidationcontext-verify-certificate-spki"><span class="std std-ref">verify_certificate_spki</span></a>.</li>
<li>tls: added support for multiple
<a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-certificatevalidationcontext-verify-certificate-hash"><span class="std std-ref">verify_certificate_hash</span></a>
values.</li>
<li>tls: added support for using
<a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-certificatevalidationcontext-verify-certificate-spki"><span class="std std-ref">verify_certificate_spki</span></a>
and <a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-certificatevalidationcontext-verify-certificate-hash"><span class="std std-ref">verify_certificate_hash</span></a>
without <a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-certificatevalidationcontext-trusted-ca"><span class="std std-ref">trusted_ca</span></a>.</li>
<li>tls: added support for allowing expired certificates with
<a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-certificatevalidationcontext-allow-expired-certificate"><span class="std std-ref">allow_expired_certificate</span></a>.</li>
<li>tls: added support for <a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-upstreamtlscontext-allow-renegotiation"><span class="std std-ref">renegotiation</span></a>
when acting as a client.</li>
<li>tls: removed support for legacy SHA-2 CBC cipher suites.</li>
<li>tracing: the sampling decision is now delegated to the tracers, allowing the tracer to decide when and if
to use it. For example, if the <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-b3-sampled"><span class="std std-ref">x-b3-sampled</span></a> header
is supplied with the client request, its value will override any sampling decision made by the Envoy proxy.</li>
<li>websocket: support configuring
<a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routeaction-websocket-config"><span class="std std-ref">idle_timeout and max_connect_attempts</span></a>.</li>
<li>upstream: added support for host override for a request in <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-types-original-destination-request-header"><span class="std std-ref">Original destination host request header</span></a>.</li>
<li>header to metadata: added <a class="reference internal" href="../configuration/http_filters/header_to_metadata_filter.html#config-http-filters-header-to-metadata"><span class="std std-ref">HTTP Header to Metadata filter</span></a>.</li>
</ul>
</div>
<div class="section" id="march-20-2018">
<h2>1.6.0 (March 20, 2018)<a class="headerlink" href="#march-20-2018" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>access log: added DOWNSTREAM_REMOTE_ADDRESS, DOWNSTREAM_REMOTE_ADDRESS_WITHOUT_PORT, and
DOWNSTREAM_LOCAL_ADDRESS <a class="reference internal" href="../configuration/access_log.html#config-access-log-format"><span class="std std-ref">access log formatters</span></a>.
DOWNSTREAM_ADDRESS access log formatter has been deprecated.</li>
<li>access log: added less than or equal (LE) <a class="reference internal" href="../api-v2/config/filter/accesslog/v2/accesslog.proto.html#envoy-api-msg-config-filter-accesslog-v2-comparisonfilter"><span class="std std-ref">comparison filter</span></a>.</li>
<li>access log: added configuration to <a class="reference internal" href="../api-v2/config/filter/accesslog/v2/accesslog.proto.html#envoy-api-msg-config-filter-accesslog-v2-runtimefilter"><span class="std std-ref">runtime filter</span></a> to set default sampling rate, divisor,
and whether to use independent randomness or not.</li>
<li>admin: added <a class="reference internal" href="../operations/admin.html#operations-admin-interface-runtime"><span class="std std-ref">/runtime</span></a> admin endpoint to read the
current runtime values.</li>
<li>build: added support for <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master/bazel#enabling-optional-features">building Envoy with exported symbols</a>. This change allows scripts loaded with the Lua filter to
load shared object libraries such as those installed via <a class="reference external" href="https://luarocks.org/">LuaRocks</a>.</li>
<li>config: added support for sending error details as
<a class="reference external" href="https://github.com/googleapis/googleapis/blob/master/google/rpc/status.proto">grpc.rpc.Status</a>
in <a class="reference internal" href="../api-v2/api/v2/discovery.proto.html#envoy-api-msg-discoveryrequest"><span class="std std-ref">DiscoveryRequest</span></a>.</li>
<li>config: added support for <a class="reference internal" href="../api-v2/api/v2/core/base.proto.html#envoy-api-msg-core-datasource"><span class="std std-ref">inline delivery</span></a> of TLS
certificates and private keys.</li>
<li>config: added restrictions for the backing <a class="reference internal" href="../api-v2/api/v2/core/config_source.proto.html#envoy-api-msg-core-configsource"><span class="std std-ref">config sources</span></a>
of xDS resources. For filesystem based xDS the file must exist at configuration time. For cluster
based xDS the backing cluster must be statically defined and be of non-EDS type.</li>
<li>grpc: the Google gRPC C++ library client is now supported as specified in the <a class="reference internal" href="arch_overview/grpc.html#arch-overview-grpc-services"><span class="std std-ref">gRPC services
overview</span></a> and <a class="reference internal" href="../api-v2/api/v2/core/grpc_service.proto.html#envoy-api-msg-core-grpcservice"><span class="std std-ref">GrpcService</span></a>.</li>
<li>grpc-json: added support for <a class="reference internal" href="../api-v2/config/filter/http/transcoder/v2/transcoder.proto.html#envoy-api-field-config-filter-http-transcoder-v2-grpcjsontranscoder-proto-descriptor-bin"><span class="std std-ref">inline descriptors</span></a>.</li>
<li>health check: added <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-grpc-health-check"><span class="std std-ref">gRPC health check</span></a>
based on <a class="reference external" href="https://github.com/grpc/grpc/blob/master/src/proto/grpc/health/v1/health.proto">grpc.health.v1.Health</a>
service.</li>
<li>health check: added ability to set <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-httphealthcheck-host"><span class="std std-ref">host header value</span></a> for http health check.</li>
<li>health check: extended the health check filter to support computation of the health check response
based on the <a class="reference internal" href="../api-v2/config/filter/http/health_check/v2/health_check.proto.html#envoy-api-field-config-filter-http-health-check-v2-healthcheck-cluster-min-healthy-percentages"><span class="std std-ref">percentage of healthy servers in upstream clusters</span></a>.</li>
<li>health check: added setting for <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-no-traffic-interval"><span class="std std-ref">no-traffic
interval</span></a>.</li>
<li>http: added idle timeout for <a class="reference internal" href="../api-v2/api/v2/core/protocol.proto.html#envoy-api-field-core-httpprotocoloptions-idle-timeout"><span class="std std-ref">upstream http connections</span></a>.</li>
<li>http: added support for <a class="reference internal" href="../api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-proxy-100-continue"><span class="std std-ref">proxying 100-Continue responses</span></a>.</li>
<li>http: added the ability to pass a URL encoded PEM encoded peer certificate in the
<a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert"><span class="std std-ref">x-forwarded-client-cert</span></a> header.</li>
<li>http: added support for trusting additional hops in the
<a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-for"><span class="std std-ref">x-forwarded-for</span></a> request header.</li>
<li>http: added support for <a class="reference internal" href="../api-v2/api/v2/core/protocol.proto.html#envoy-api-field-core-http1protocoloptions-accept-http-10"><span class="std std-ref">incoming HTTP/1.0</span></a>.</li>
<li>hot restart: added SIGTERM propagation to children to <a class="reference internal" href="../operations/hot_restarter.html#operations-hot-restarter"><span class="std std-ref">hot-restarter.py</span></a>, which enables using it as a parent of containers.</li>
<li>ip tagging: added <a class="reference internal" href="../configuration/http_filters/ip_tagging_filter.html#config-http-filters-ip-tagging"><span class="std std-ref">HTTP IP Tagging filter</span></a>.</li>
<li>listeners: added support for <a class="reference internal" href="../api-v2/api/v2/core/address.proto.html#envoy-api-field-core-socketaddress-ipv4-compat"><span class="std std-ref">listening for both IPv4 and IPv6</span></a> when binding to ::.</li>
<li>listeners: added support for listening on <a class="reference internal" href="../api-v2/api/v2/core/address.proto.html#envoy-api-field-core-address-pipe"><span class="std std-ref">UNIX domain sockets</span></a>.</li>
<li>listeners: added support for <a class="reference internal" href="../api-v2/api/v2/core/address.proto.html#envoy-api-msg-core-pipe"><span class="std std-ref">abstract unix domain sockets</span></a> on
Linux. The abstract namespace can be used by prepending ‘&#64;’ to a socket path.</li>
<li>load balancer: added cluster configuration for <a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-commonlbconfig-healthy-panic-threshold"><span class="std std-ref">healthy panic threshold</span></a> percentage.</li>
<li>load balancer: added <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-types-maglev"><span class="std std-ref">Maglev</span></a> consistent hash
load balancer.</li>
<li>load balancer: added support for
<a class="reference internal" href="../api-v2/api/v2/endpoint/endpoint.proto.html#envoy-api-msg-endpoint-localitylbendpoints"><span class="std std-ref">LocalityLbEndpoints</span></a> priorities.</li>
<li>lua: added headers <a class="reference internal" href="../configuration/http_filters/lua_filter.html#config-http-filters-lua-header-wrapper"><span class="std std-ref">replace()</span></a> API.</li>
<li>lua: extended to support <a class="reference internal" href="../configuration/http_filters/lua_filter.html#config-http-filters-lua-metadata-wrapper"><span class="std std-ref">metadata object</span></a> API.</li>
<li>redis: added local <cite>PING</cite> support to the <a class="reference internal" href="arch_overview/redis.html#arch-overview-redis"><span class="std std-ref">Redis filter</span></a>.</li>
<li>redis: added <cite>GEORADIUS_RO</cite> and <cite>GEORADIUSBYMEMBER_RO</cite> to the <a class="reference internal" href="arch_overview/redis.html#arch-overview-redis"><span class="std std-ref">Redis command splitter</span></a> whitelist.</li>
<li>router: added DOWNSTREAM_REMOTE_ADDRESS_WITHOUT_PORT, DOWNSTREAM_LOCAL_ADDRESS,
DOWNSTREAM_LOCAL_ADDRESS_WITHOUT_PORT, PROTOCOL, and UPSTREAM_METADATA <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">header
formatters</span></a>. The CLIENT_IP header formatter
has been deprecated.</li>
<li>router: added gateway-error <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-on"><span class="std std-ref">retry-on</span></a> policy.</li>
<li>router: added support for route matching based on <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-msg-route-queryparametermatcher"><span class="std std-ref">URL query string parameters</span></a>.</li>
<li>router: added support for more granular weighted cluster routing by allowing the <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-weightedcluster-total-weight"><span class="std std-ref">total_weight</span></a> to be specified in configuration.</li>
<li>router: added support for <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">custom request/response headers</span></a> with mixed static and dynamic values.</li>
<li>router: added support for <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-route-direct-response"><span class="std std-ref">direct responses</span></a>.
I.e., sending a preconfigured HTTP response without proxying anywhere.</li>
<li>router: added support for <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-redirectaction-https-redirect"><span class="std std-ref">HTTPS redirects</span></a> on specific routes.</li>
<li>router: added support for <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-redirectaction-prefix-rewrite"><span class="std std-ref">prefix_rewrite</span></a> for redirects.</li>
<li>router: added support for <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-redirectaction-strip-query"><span class="std std-ref">stripping the query string</span></a> for redirects.</li>
<li>router: added support for downstream request/upstream response
<a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">header manipulation</span></a> in <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-msg-route-weightedcluster"><span class="std std-ref">weighted
cluster</span></a>.</li>
<li>router: added support for <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-headermatcher-range-match"><span class="std std-ref">range based header matching</span></a> for request routing.</li>
<li>squash: added support for the <a class="reference internal" href="../configuration/http_filters/squash_filter.html#config-http-filters-squash"><span class="std std-ref">Squash microservices debugger</span></a>.
Allows debugging an incoming request to a microservice in the mesh.</li>
<li>stats: added metrics service API implementation.</li>
<li>stats: added native <a class="reference internal" href="../api-v2/config/metrics/v2/stats.proto.html#envoy-api-msg-config-metrics-v2-dogstatsdsink"><span class="std std-ref">DogStatsd</span></a> support.</li>
<li>stats: added support for <a class="reference internal" href="../api-v2/config/metrics/v2/stats.proto.html#envoy-api-field-config-metrics-v2-tagspecifier-fixed-value"><span class="std std-ref">fixed stats tag values</span></a> which will be added to all metrics.</li>
<li>tcp proxy: added support for specifying a <a class="reference internal" href="../api-v2/config/filter/network/tcp_proxy/v2/tcp_proxy.proto.html#envoy-api-field-config-filter-network-tcp-proxy-v2-tcpproxy-metadata-match"><span class="std std-ref">metadata matcher</span></a> for upstream
clusters in the tcp filter.</li>
<li>tcp proxy: improved TCP proxy to correctly proxy TCP half-close.</li>
<li>tcp proxy: added <a class="reference internal" href="../api-v2/config/filter/network/tcp_proxy/v2/tcp_proxy.proto.html#envoy-api-field-config-filter-network-tcp-proxy-v2-tcpproxy-idle-timeout"><span class="std std-ref">idle timeout</span></a>.</li>
<li>tcp proxy: access logs now bring an IP address without a port when using DOWNSTREAM_ADDRESS.
Use <a class="reference internal" href="../configuration/access_log.html#config-access-log-format"><span class="std std-ref">DOWNSTREAM_REMOTE_ADDRESS</span></a> instead.</li>
<li>tracing: added support for dynamically loading an <a class="reference internal" href="../api-v2/config/trace/v2/trace.proto.html#envoy-api-msg-config-trace-v2-dynamicotconfig"><span class="std std-ref">OpenTracing tracer</span></a>.</li>
<li>tracing: when using the Zipkin tracer, it is now possible for clients to specify the sampling
decision (using the <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-b3-sampled"><span class="std std-ref">x-b3-sampled</span></a> header) and
have the decision propagated through to subsequently invoked services.</li>
<li>tracing: when using the Zipkin tracer, it is no longer necessary to propagate the
<a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-ot-span-context"><span class="std std-ref">x-ot-span-context</span></a> header.
See more on trace context propagation <a class="reference internal" href="arch_overview/tracing.html#arch-overview-tracing"><span class="std std-ref">here</span></a>.</li>
<li>transport sockets: added transport socket interface to allow custom implementations of transport
sockets. A transport socket provides read and write logic with buffer encryption and decryption
(if applicable). The existing TLS implementation has been refactored with the interface.</li>
<li>upstream: added support for specifying an <a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-field-cluster-alt-stat-name"><span class="std std-ref">alternate stats name</span></a> while emitting stats for clusters.</li>
<li>Many small bug fixes and performance improvements not listed.</li>
</ul>
</div>
<div class="section" id="december-4-2017">
<h2>1.5.0 (December 4, 2017)<a class="headerlink" href="#december-4-2017" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>access log: added fields for <a class="reference internal" href="../configuration/access_log.html#config-access-log-format"><span class="std std-ref">UPSTREAM_LOCAL_ADDRESS and DOWNSTREAM_ADDRESS</span></a>.</li>
<li>admin: added <a class="reference internal" href="../operations/admin.html#operations-admin-interface-stats"><span class="std std-ref">JSON output</span></a> for stats admin endpoint.</li>
<li>admin: added basic <a class="reference internal" href="../operations/admin.html#operations-admin-interface-stats"><span class="std std-ref">Prometheus output</span></a> for stats admin
endpoint. Histograms are not currently output.</li>
<li>admin: added <code class="docutils literal notranslate"><span class="pre">version_info</span></code> to the <a class="reference internal" href="../operations/admin.html#operations-admin-interface-clusters"><span class="std std-ref">/clusters admin endpoint</span></a>.</li>
<li>config: the <a class="reference internal" href="../configuration/overview/v2_overview.html#config-overview-v2"><span class="std std-ref">v2 API</span></a> is now considered production ready.</li>
<li>config: added <a class="reference internal" href="../operations/cli.html#cmdoption-v2-config-only"><code class="xref std std-option docutils literal notranslate"><span class="pre">--v2-config-only</span></code></a> CLI flag.</li>
<li>cors: added <a class="reference internal" href="../configuration/http_filters/cors_filter.html#config-http-filters-cors"><span class="std std-ref">CORS filter</span></a>.</li>
<li>health check: added <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-immediate-health-check-fail"><span class="std std-ref">x-envoy-immediate-health-check-fail</span></a> header support.</li>
<li>health check: added <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-reuse-connection"><span class="std std-ref">reuse_connection</span></a> option.</li>
<li>http: added <a class="reference internal" href="../configuration/http_conn_man/stats.html#config-http-conn-man-stats-per-listener"><span class="std std-ref">per-listener stats</span></a>.</li>
<li>http: end-to-end HTTP flow control is now complete across both connections, streams, and filters.</li>
<li>load balancer: added <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancer-subsets"><span class="std std-ref">subset load balancer</span></a>.</li>
<li>load balancer: added ring size and hash <a class="reference internal" href="../api-v2/api/v2/cds.proto.html#envoy-api-msg-cluster-ringhashlbconfig"><span class="std std-ref">configuration options</span></a>. This used to be configurable via runtime. The runtime
configuration was deleted without deprecation as we are fairly certain no one is using it.</li>
<li>log: added the ability to optionally log to a file instead of stderr via the
<a class="reference internal" href="../operations/cli.html#cmdoption-log-path"><code class="xref std std-option docutils literal notranslate"><span class="pre">--log-path</span></code></a> option.</li>
<li>listeners: added <a class="reference internal" href="../api-v2/api/v2/lds.proto.html#envoy-api-field-listener-drain-type"><span class="std std-ref">drain_type</span></a> option.</li>
<li>lua: added experimental <a class="reference internal" href="../configuration/http_filters/lua_filter.html#config-http-filters-lua"><span class="std std-ref">Lua filter</span></a>.</li>
<li>mongo filter: added <a class="reference internal" href="../configuration/network_filters/mongo_proxy_filter.html#config-network-filters-mongo-proxy-fault-injection"><span class="std std-ref">fault injection</span></a>.</li>
<li>mongo filter: added <a class="reference internal" href="arch_overview/draining.html#arch-overview-draining"><span class="std std-ref">“drain close”</span></a> support.</li>
<li>outlier detection: added <a class="reference internal" href="arch_overview/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">HTTP gateway failure type</span></a>.
See <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master/DEPRECATED.md#version-150">DEPRECATED.md</a>
for outlier detection stats deprecations in this release.</li>
<li>redis: the <a class="reference internal" href="../configuration/network_filters/redis_proxy_filter.html#config-network-filters-redis-proxy"><span class="std std-ref">redis proxy filter</span></a> is now considered
production ready.</li>
<li>redis: added <a class="reference internal" href="arch_overview/draining.html#arch-overview-draining"><span class="std std-ref">“drain close”</span></a> functionality.</li>
<li>router: added <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-overloaded-set"><span class="std std-ref">x-envoy-overloaded</span></a> support.</li>
<li>router: added <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routematch-regex"><span class="std std-ref">regex</span></a> route matching.</li>
<li>router: added <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">custom request headers</span></a>
for upstream requests.</li>
<li>router: added <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routeaction-hashpolicy-connection-properties"><span class="std std-ref">downstream IP hashing</span></a> for HTTP ketama routing.</li>
<li>router: added <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routeaction-hashpolicy-cookie"><span class="std std-ref">cookie hashing</span></a>.</li>
<li>router: added <a class="reference internal" href="../api-v2/config/filter/http/router/v2/router.proto.html#envoy-api-field-config-filter-http-router-v2-router-start-child-span"><span class="std std-ref">start_child_span</span></a> option
to create child span for egress calls.</li>
<li>router: added optional <a class="reference internal" href="../api-v2/config/filter/http/router/v2/router.proto.html#envoy-api-field-config-filter-http-router-v2-router-upstream-log"><span class="std std-ref">upstream logs</span></a>.</li>
<li>router: added complete <a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">custom append/override/remove support</span></a> of request/response headers.</li>
<li>router: added support to <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-redirectaction-response-code"><span class="std std-ref">specify response code during redirect</span></a>.</li>
<li>router: added <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-routeaction-cluster-not-found-response-code"><span class="std std-ref">configuration</span></a>
to return either a 404 or 503 if the upstream cluster does not exist.</li>
<li>runtime: added <a class="reference internal" href="../configuration/runtime.html#config-runtime-comments"><span class="std std-ref">comment capability</span></a>.</li>
<li>server: change default log level (<a class="reference internal" href="../operations/cli.html#cmdoption-l"><code class="xref std std-option docutils literal notranslate"><span class="pre">-l</span></code></a>) to <cite>info</cite>.</li>
<li>stats: maximum stat/name sizes and maximum number of stats are now variable via the
<a class="reference internal" href="../operations/cli.html#cmdoption-max-obj-name-len"><code class="xref std std-option docutils literal notranslate"><span class="pre">--max-obj-name-len</span></code></a> and <a class="reference internal" href="../operations/cli.html#cmdoption-max-stats"><code class="xref std std-option docutils literal notranslate"><span class="pre">--max-stats</span></code></a> options.</li>
<li>tcp proxy: added <a class="reference internal" href="../api-v2/config/filter/network/tcp_proxy/v2/tcp_proxy.proto.html#envoy-api-field-config-filter-network-tcp-proxy-v2-tcpproxy-access-log"><span class="std std-ref">access logging</span></a>.</li>
<li>tcp proxy: added <a class="reference internal" href="../api-v2/config/filter/network/tcp_proxy/v2/tcp_proxy.proto.html#envoy-api-field-config-filter-network-tcp-proxy-v2-tcpproxy-max-connect-attempts"><span class="std std-ref">configurable connect retries</span></a>.</li>
<li>tcp proxy: enable use of <a class="reference internal" href="arch_overview/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">outlier detector</span></a>.</li>
<li>tls: added <a class="reference internal" href="../faq/sni.html#faq-how-to-setup-sni"><span class="std std-ref">SNI support</span></a>.</li>
<li>tls: added support for specifying <a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-downstreamtlscontext-session-ticket-keys"><span class="std std-ref">TLS session ticket keys</span></a>.</li>
<li>tls: allow configuration of the <a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-tlsparameters-tls-minimum-protocol-version"><span class="std std-ref">min</span></a> and <a class="reference internal" href="../api-v2/api/v2/auth/cert.proto.html#envoy-api-field-auth-tlsparameters-tls-maximum-protocol-version"><span class="std std-ref">max</span></a> TLS protocol versions.</li>
<li>tracing: added <a class="reference internal" href="../api-v2/api/v2/route/route.proto.html#envoy-api-field-route-route-decorator"><span class="std std-ref">custom trace span decorators</span></a>.</li>
<li>Many small bug fixes and performance improvements not listed.</li>
</ul>
</div>
<div class="section" id="august-24-2017">
<h2>1.4.0 (August 24, 2017)<a class="headerlink" href="#august-24-2017" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>macOS is <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//bazel#quick-start-bazel-build-for-developers">now supported</a>. (A few features
are missing such as hot restart and original destination routing).</li>
<li>YAML is now directly supported for <a class="reference internal" href="../configuration/overview/v1_overview.html#config-overview-v1"><span class="std std-ref">config files</span></a>.</li>
<li>Added /routes admin endpoint.</li>
<li>End-to-end flow control is now supported for TCP proxy, HTTP/1, and HTTP/2. HTTP flow control
that includes filter buffering is incomplete and will be implemented in 1.5.0.</li>
<li>Log verbosity <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//bazel#log-verbosity">compile time flag</a> added.</li>
<li>Hot restart <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//bazel#hot-restart">compile time flag</a> added.</li>
<li>Original destination <a class="reference internal" href="arch_overview/service_discovery.html#arch-overview-service-discovery-types-original-destination"><span class="std std-ref">cluster</span></a>
and <a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-types-original-destination"><span class="std std-ref">load balancer</span></a> added.</li>
<li><a class="reference internal" href="arch_overview/websocket.html#arch-overview-websocket"><span class="std std-ref">WebSocket</span></a> is now supported.</li>
<li>Virtual cluster priorities have been hard removed without deprecation as we are reasonably sure
no one is using this feature.</li>
<li>Route <a class="reference internal" href="../api-v1/route_config/route_config.html#config-http-conn-man-route-table-validate-clusters"><span class="std std-ref">validate_clusters</span></a> option added.</li>
<li><a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-downstream-service-node"><span class="std std-ref">x-envoy-downstream-service-node</span></a>
header added.</li>
<li><a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert"><span class="std std-ref">x-forwarded-client-cert</span></a> header
added.</li>
<li>Initial HTTP/1 forward proxy support for <a class="reference internal" href="../api-v1/network_filters/http_conn_man.html#config-http-conn-man-http1-settings"><span class="std std-ref">absolute URLs</span></a> has been added.</li>
<li>HTTP/2 codec settings are now <a class="reference internal" href="../api-v1/network_filters/http_conn_man.html#config-http-conn-man-http2-settings"><span class="std std-ref">configurable</span></a>.</li>
<li>gRPC/JSON transcoder <a class="reference internal" href="../configuration/http_filters/grpc_json_transcoder_filter.html#config-http-filters-grpc-json-transcoder"><span class="std std-ref">filter</span></a> added.</li>
<li>gRPC web <a class="reference internal" href="../configuration/http_filters/grpc_web_filter.html#config-http-filters-grpc-web"><span class="std std-ref">filter</span></a> added.</li>
<li>Configurable timeout for the rate limit service call in the <a class="reference internal" href="../configuration/network_filters/rate_limit_filter.html#config-network-filters-rate-limit"><span class="std std-ref">network</span></a> and <a class="reference internal" href="../configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit"><span class="std std-ref">HTTP</span></a> rate limit
filters.</li>
<li><a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-grpc-on"><span class="std std-ref">x-envoy-retry-grpc-on</span></a> header added.</li>
<li><a class="reference internal" href="arch_overview/dynamic_configuration.html#arch-overview-dynamic-config-lds"><span class="std std-ref">LDS API</span></a> added.</li>
<li>TLS <a class="reference internal" href="../api-v1/listeners/listeners.html#config-listener-ssl-context-require-client-certificate"><span class="std std-ref">require_client_certificate</span></a>
option added.</li>
<li><a class="reference internal" href="../install/tools/config_load_check_tool.html#install-tools-config-load-check-tool"><span class="std std-ref">Configuration check tool</span></a> added.</li>
<li><a class="reference internal" href="../install/tools/schema_validator_check_tool.html#install-tools-schema-validator-check-tool"><span class="std std-ref">JSON schema check tool</span></a> added.</li>
<li>Config validation mode added via the <a class="reference internal" href="../operations/cli.html#cmdoption-mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">--mode</span></code></a> option.</li>
<li><a class="reference internal" href="../operations/cli.html#cmdoption-local-address-ip-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--local-address-ip-version</span></code></a> option added.</li>
<li>IPv6 support is now complete.</li>
<li>UDP <a class="reference internal" href="../configuration/overview/v1_overview.html#config-overview-statsd-udp-ip-address"><span class="std std-ref">statsd_ip_address</span></a> option added.</li>
<li>Per-cluster <a class="reference internal" href="../api-v1/cluster_manager/cluster.html#config-cluster-manager-cluster-dns-resolvers"><span class="std std-ref">DNS resolvers</span></a> added.</li>
<li><a class="reference internal" href="../configuration/http_filters/fault_filter.html#config-http-filters-fault-injection"><span class="std std-ref">Fault filter</span></a> enhancements and fixes.</li>
<li>Several features are <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//DEPRECATED.md#version-140">deprecated as of the 1.4.0 release</a>. They
will be removed at the beginning of the 1.5.0 release cycle. We explicitly call out that the
<cite>HttpFilterConfigFactory</cite> filter API has been deprecated in favor of
<cite>NamedHttpFilterConfigFactory</cite>.</li>
<li>Many small bug fixes and performance improvements not listed.</li>
</ul>
</div>
<div class="section" id="may-17-2017">
<h2>1.3.0 (May 17, 2017)<a class="headerlink" href="#may-17-2017" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>As of this release, we now have an official <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//CONTRIBUTING.md#breaking-change-policy">breaking change policy</a>. Note that there are numerous breaking configuration
changes in this release. They are not listed here. Future releases will adhere to the policy and
have clear documentation on deprecations and changes.</li>
<li>Bazel is now the canonical build system (replacing CMake). There have been a huge number of
changes to the development/build/test flow. See <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//bazel/README.md">/bazel/README.md</a> and
<a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master//ci/README.md">/ci/README.md</a> for more information.</li>
<li><a class="reference internal" href="arch_overview/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Outlier detection</span></a> has been expanded to include success
rate variance, and all parameters are now configurable in both runtime and in the JSON
configuration.</li>
<li>TCP level <a class="reference internal" href="../api-v1/listeners/listeners.html#config-listeners-per-connection-buffer-limit-bytes"><span class="std std-ref">listener</span></a> and
<a class="reference internal" href="../api-v1/cluster_manager/cluster.html#config-cluster-manager-cluster-per-connection-buffer-limit-bytes"><span class="std std-ref">cluster</span></a> connections now
have configurable receive buffer limits at which point connection level back pressure is applied.
Full end to end flow control will be available in a future release.</li>
<li><a class="reference internal" href="../configuration/cluster_manager/cluster_hc.html#config-cluster-manager-cluster-hc"><span class="std std-ref">Redis health checking</span></a> has been added as an active
health check type. Full Redis support will be documented/supported in 1.4.0.</li>
<li><a class="reference internal" href="../configuration/cluster_manager/cluster_hc.html#config-cluster-manager-cluster-hc-tcp-health-checking"><span class="std std-ref">TCP health checking</span></a> now supports a
“connect only” mode that only checks if the remote server can be connected to without
writing/reading any data.</li>
<li><a class="reference external" href="https://boringssl.googlesource.com/boringssl">BoringSSL</a> is now the only supported TLS provider.
The default cipher suites and ECDH curves have been updated with more modern defaults for both
<a class="reference internal" href="../api-v1/listeners/listeners.html#config-listener-ssl-context"><span class="std std-ref">listener</span></a> and
<a class="reference internal" href="../api-v1/cluster_manager/cluster_ssl.html#config-cluster-manager-cluster-ssl"><span class="std std-ref">cluster</span></a> connections.</li>
<li>The <cite>header value match</cite> <a class="reference internal" href="../api-v1/route_config/rate_limits.html#config-http-conn-man-route-table-rate-limit-actions"><span class="std std-ref">rate limit action</span></a> has been expanded to include an <em>expect
match</em> parameter.</li>
<li>Route level HTTP rate limit configurations now do not inherit the virtual host level
configurations by default. The <a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-include-vh"><span class="std std-ref">include_vh_rate_limits</span></a> to inherit the virtual host level options if
desired.</li>
<li>HTTP routes can now add request headers on a per route and per virtual host basis via the
<a class="reference internal" href="../configuration/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">request_headers_to_add</span></a> option.</li>
<li>The <a class="reference internal" href="../install/ref_configs.html#install-ref-configs"><span class="std std-ref">example configurations</span></a> have been refreshed to demonstrate the
latest features.</li>
<li><a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-retry"><span class="std std-ref">per_try_timeout_ms</span></a> can now be configured in
a route’s retry policy in addition to via the <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-upstream-rq-per-try-timeout-ms"><span class="std std-ref">x-envoy-upstream-rq-per-try-timeout-ms</span></a> HTTP header.</li>
<li><a class="reference internal" href="../api-v1/route_config/vhost.html#config-http-conn-man-route-table-vhost"><span class="std std-ref">HTTP virtual host matching</span></a> now includes support
for prefix wildcard domains (e.g., <cite>*.lyft.com</cite>).</li>
<li>The default for tracing random sampling has been changed to 100% and is still configurable in
<a class="reference internal" href="../configuration/http_conn_man/runtime.html#config-http-conn-man-runtime"><span class="std std-ref">runtime</span></a>.</li>
<li><a class="reference internal" href="../api-v1/network_filters/http_conn_man.html#config-http-conn-man-tracing"><span class="std std-ref">HTTP tracing configuration</span></a> has been extended to allow tags
to be populated from arbitrary HTTP headers.</li>
<li>The <a class="reference internal" href="../configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit"><span class="std std-ref">HTTP rate limit filter</span></a> can now be applied to internal,
external, or all requests via the <cite>request_type</cite> option.</li>
<li><a class="reference internal" href="../configuration/listeners/listeners.html#config-listeners"><span class="std std-ref">Listener binding</span></a> now requires specifying an <cite>address</cite> field. This can be
used to bind a listener to both a specific address as well as a port.</li>
<li>The <a class="reference internal" href="../configuration/network_filters/mongo_proxy_filter.html#config-network-filters-mongo-proxy"><span class="std std-ref">MongoDB filter</span></a> now emits a stat for queries that
do not have <cite>$maxTimeMS</cite> set.</li>
<li>The <a class="reference internal" href="../configuration/network_filters/mongo_proxy_filter.html#config-network-filters-mongo-proxy"><span class="std std-ref">MongoDB filter</span></a> now emits logs that are fully valid
JSON.</li>
<li>The CPU profiler output path is now <a class="reference internal" href="../api-v1/admin.html#config-admin-v1"><span class="std std-ref">configurable</span></a>.</li>
<li>A <a class="reference internal" href="../configuration/overview/v1_overview.html#config-overview-v1"><span class="std std-ref">watchdog system</span></a> has been added that can kill the server if a deadlock
is detected.</li>
<li>A <a class="reference internal" href="../install/tools/route_table_check_tool.html#install-tools-route-table-check-tool"><span class="std std-ref">route table checking tool</span></a> has been added that can
be used to test route tables before use.</li>
<li>We have added an <a class="reference internal" href="../extending/extending.html#extending"><span class="std std-ref">example repo</span></a> that shows how to compile/link a custom filter.</li>
<li>Added additional cluster wide information related to outlier detection to the <a class="reference internal" href="../operations/admin.html#operations-admin-interface"><span class="std std-ref">/clusters
admin endpoint</span></a>.</li>
<li>Multiple SANs can now be verified via the <a class="reference internal" href="../api-v1/listeners/listeners.html#config-listener-ssl-context"><span class="std std-ref">verify_subject_alt_name</span></a> setting. Additionally, URI type SANs can be verified.</li>
<li>HTTP filters can now be passed <a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-opaque-config"><span class="std std-ref">opaque configuration</span></a> specified on a per route basis.</li>
<li>By default Envoy now has a built in crash handler that will print a back trace. This behavior can
be disabled if desired via the <code class="docutils literal notranslate"><span class="pre">--define=signal_trace=disabled</span></code> Bazel option.</li>
<li>Zipkin has been added as a supported <a class="reference internal" href="arch_overview/tracing.html#arch-overview-tracing"><span class="std std-ref">tracing provider</span></a>.</li>
<li>Numerous small changes and fixes not listed here.</li>
</ul>
</div>
<div class="section" id="march-7-2017">
<h2>1.2.0 (March 7, 2017)<a class="headerlink" href="#march-7-2017" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../configuration/cluster_manager/cds.html#config-cluster-manager-cds"><span class="std std-ref">Cluster discovery service (CDS) API</span></a>.</li>
<li><a class="reference internal" href="arch_overview/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Outlier detection</span></a> (passive health checking).</li>
<li>Envoy configuration is now checked against a <a class="reference internal" href="../configuration/overview/v1_overview.html#config-overview-v1"><span class="std std-ref">JSON schema</span></a>.</li>
<li><a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-types"><span class="std std-ref">Ring hash</span></a> consistent load balancer, as well as HTTP
consistent hash routing <a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-hash-policy"><span class="std std-ref">based on a policy</span></a>.</li>
<li>Vastly <a class="reference internal" href="arch_overview/global_rate_limiting.html#arch-overview-rate-limit"><span class="std std-ref">enhanced global rate limit configuration</span></a> via the HTTP
rate limiting filter.</li>
<li>HTTP routing to a cluster <a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-cluster-header"><span class="std std-ref">retrieved from a header</span></a>.</li>
<li><a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-config-weighted-clusters"><span class="std std-ref">Weighted cluster</span></a> HTTP
routing.</li>
<li><a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-auto-host-rewrite"><span class="std std-ref">Auto host rewrite</span></a> during HTTP
routing.</li>
<li><a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-headers"><span class="std std-ref">Regex header matching</span></a> during HTTP routing.</li>
<li>HTTP access log <a class="reference internal" href="../api-v1/access_log.html#config-http-con-manager-access-log-filters-runtime-v1"><span class="std std-ref">runtime filter</span></a>.</li>
<li>LightStep tracer <a class="reference internal" href="arch_overview/tracing.html#arch-overview-tracing"><span class="std std-ref">parent/child span association</span></a>.</li>
<li><a class="reference internal" href="../configuration/http_conn_man/rds.html#config-http-conn-man-rds"><span class="std std-ref">Route discovery service (RDS) API</span></a>.</li>
<li>HTTP router <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-upstream-rq-timeout-alt-response"><span class="std std-ref">x-envoy-upstream-rq-timeout-alt-response header</span></a> support.</li>
<li><em>use_original_dst</em> and <em>bind_to_port</em> <a class="reference internal" href="../configuration/listeners/listeners.html#config-listeners"><span class="std std-ref">listener options</span></a> (useful for
iptables based transparent proxy support).</li>
<li>TCP proxy filter <a class="reference internal" href="../configuration/network_filters/tcp_proxy_filter.html#config-network-filters-tcp-proxy"><span class="std std-ref">route table support</span></a>.</li>
<li>Configurable <a class="reference internal" href="../configuration/overview/v1_overview.html#config-overview-stats-flush-interval-ms"><span class="std std-ref">stats flush interval</span></a>.</li>
<li>Various <a class="reference internal" href="../install/building.html#install-requirements"><span class="std std-ref">third party library upgrades</span></a>, including using BoringSSL as
the default SSL provider.</li>
<li>No longer maintain closed HTTP/2 streams for priority calculations. Leads to substantial memory
savings for large meshes.</li>
<li>Numerous small changes and fixes not listed here.</li>
</ul>
</div>
<div class="section" id="november-30-2016">
<h2>1.1.0 (November 30, 2016)<a class="headerlink" href="#november-30-2016" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Switch from Jannson to RapidJSON for our JSON library (allowing for a configuration schema in
1.2.0).</li>
<li>Upgrade <a class="reference internal" href="../install/building.html#install-requirements"><span class="std std-ref">recommended version</span></a> of various other libraries.</li>
<li><a class="reference internal" href="../api-v1/cluster_manager/cluster.html#config-cluster-manager-cluster-dns-refresh-rate-ms"><span class="std std-ref">Configurable DNS refresh rate</span></a> for
DNS service discovery types.</li>
<li>Upstream circuit breaker configuration can be <a class="reference internal" href="../configuration/cluster_manager/cluster_runtime.html#config-cluster-manager-cluster-runtime"><span class="std std-ref">overridden via runtime</span></a>.</li>
<li><a class="reference internal" href="arch_overview/load_balancing.html#arch-overview-load-balancing-zone-aware-routing"><span class="std std-ref">Zone aware routing support</span></a>.</li>
<li>Generic <a class="reference internal" href="../api-v1/route_config/route.html#config-http-conn-man-route-table-route-headers"><span class="std std-ref">header matching routing rule</span></a>.</li>
<li>HTTP/2 <a class="reference internal" href="../api-v1/network_filters/http_conn_man.html#config-http-conn-man-drain-timeout-ms"><span class="std std-ref">graceful connection draining</span></a> (double
GOAWAY).</li>
<li>DynamoDB filter <a class="reference internal" href="../configuration/http_filters/dynamodb_filter.html#config-http-filters-dynamo"><span class="std std-ref">per shard statistics</span></a> (pre-release AWS
feature).</li>
<li>Initial release of the <a class="reference internal" href="../configuration/http_filters/fault_filter.html#config-http-filters-fault-injection"><span class="std std-ref">fault injection HTTP filter</span></a>.</li>
<li>HTTP <a class="reference internal" href="../configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit"><span class="std std-ref">rate limit filter</span></a> enhancements (note that the
configuration for HTTP rate limiting is going to be overhauled in 1.2.0).</li>
<li>Added <a class="reference internal" href="../configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-on"><span class="std std-ref">refused-stream retry policy</span></a>.</li>
<li>Multiple <a class="reference internal" href="arch_overview/http_routing.html#arch-overview-http-routing-priority"><span class="std std-ref">priority queues</span></a> for upstream clusters
(configurable on a per route basis, with separate connection pools, circuit breakers, etc.).</li>
<li>Added max connection circuit breaking to the <a class="reference internal" href="arch_overview/tcp_proxy.html#arch-overview-tcp-proxy"><span class="std std-ref">TCP proxy filter</span></a>.</li>
<li>Added <a class="reference internal" href="../operations/cli.html#operations-cli"><span class="std std-ref">CLI</span></a> options for setting the logging file flush interval as well
as the drain/shutdown time during hot restart.</li>
<li>A very large number of performance enhancements for core HTTP/TCP proxy flows as well as a
few new configuration flags to allow disabling expensive features if they are not needed
(specifically request ID generation and dynamic response code stats).</li>
<li>Support Mongo 3.2 in the <a class="reference internal" href="../configuration/network_filters/mongo_proxy_filter.html#config-network-filters-mongo-proxy"><span class="std std-ref">Mongo sniffing filter</span></a>.</li>
<li>Lots of other small fixes and enhancements not listed.</li>
</ul>
</div>
<div class="section" id="september-12-2016">
<h2>1.0.0 (September 12, 2016)<a class="headerlink" href="#september-12-2016" title="Permalink to this headline">¶</a></h2>
<p>Initial open source release.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../start/start.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting_help.html" class="btn btn-neutral" title="Getting help" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Envoy Project Authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'tag-v1.7.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>